/**************************************************
 * Q: What is the value of each of the following expressions is C89?
 *    (Give all possible values if an expression may have more than one value.)
 *    (a) 8 % 5
 *    (b) -8 % 5
 *    (c) 8 % -5
 *    (d) -8 % -5
 *
 *    My Answers:
 *    (a) 3
 *    (b) -3 or 7
 *    (c) -3 or 7
 *    (d) 3
 *
 *    Gemini:
 *
いいえ、ご提示の答えにはC89規格における剰余（%）の振る舞いに関して大きな誤解が含まれています。

特に、剰余の符号と範囲に関するルールがC89とC99以降で異なり、また、剰余 ∣r∣
は必ず除数 ∣b∣ よりも小さくなるという基本的な数学的定義を満たす必要があります。

あなたの答えのうち、(a) と (d) の値は正しいですが、(b) と (c)
の可能性のある値は間違っています。

C89における剰余（%）のルール
C89規格では、除算（/）と同様に、負の数を含む場合の剰余算（%）の振る舞いにも実装依存の部分がありました。ただし、以下の2つの必須のルールがあります。

基本関係式: 被除数 a、除数 b、商 q、剰余 r
とすると、次の関係が常に成り立ちます。

a=q×b+r
剰余の符号: 剰余 r の符号は、被除数 a の符号と同じでなければなりません。

剰余の範囲: 剰余の絶対値 ∣r∣ は、除数の絶対値 ∣b∣ よりも小さい必要があります。

このルールにより、剰余 r は常に −(∣b∣−1) から ∣b∣−1
の範囲に収まります。したがって、あなたの答えにある**7
のような値はありえません**。

各式の正しい値（C89）
(a) 8 % 5
8=1×5+3
被除数 8 は正 → 剰余 r は正

∣r∣<∣5∣→3<5

答え: 3 （あなたの答えは正しいです）

(b) −8 % 5
商 q は −1 または −2 の可能性があります（実装依存）。

商 q=−1 の場合（ゼロ方向切り捨て）:

−8=(−1)×5+(−3)

剰余 r=−3

商 q=−2 の場合（負の無限大方向切り捨て）:

−8=(−2)×5+2

剰余 $r = 2$$

被除数 −8 は負 → 剰余 r は負でなければならない。

したがって、ルール2を満たすのは −3 の場合のみです。

答え: -3

(c) 8 % −5
商 q は −1 または −2 の可能性があります（実装依存）。

商 q=−1 の場合（ゼロ方向切り捨て）:

8=(−1)×(−5)+3

剰余 r=3

商 q=−2 の場合（負の無限大方向切り捨て）:

8=(−2)×(−5)+(−2)

剰余 $r = -2$$

被除数 8 は正 → 剰余 r は正でなければならない。

したがって、ルール2を満たすのは 3 の場合のみです。

答え: 3

(d) −8 % −5
商 q は 1 のみです。

−8=1×(−5)+(−3)
被除数 −8 は負 → 剰余 r は負

∣r∣<∣−5∣→3<5

答え: -3 (あなたの答えの 3 は符号が間違っています)

最終的な答えの比較
式	あなたの答え	C89での正しい値
(a) 8%5	3	3
(b) −8%5	-3 または 7	-3 (実装依存に関わらず)
(c) 8%−5	-3 または 7	3 (実装依存に関わらず)
(d) −8%−5	3	-3

 ***************************************************/
