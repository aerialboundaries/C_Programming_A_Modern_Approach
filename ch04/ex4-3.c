/* What is the value of each of the following expressions in C89? (Give all
possible values if an expression may have morethan one value.)
 *
 * (a) 8 / 5
 * (b) -8 / 5
 * (c) 8 / -5
 * (d) -8 / -5
 *
 * My Answers:
 * (a) 1
 * (b) -1
 * (c) 0
 * (d) 1
 *
 * Gemini
 * ご提示のC言語の式（除算 / と剰余 %）の値に関する答えです。

C89（Cの古い規格）では、負の数を含む除算や剰余の振る舞いが現在のC規格（C99以降）と異なり、**実装依存（Implementation-Defined）**な部分がありました。

式	計算	C89の振る舞い	あなたの答え	正しい答え (C89)
(a) 8/5	8÷5	常に1	1	1
(b) −8/5	−8÷5	実装依存	-1	-1 または -2
(c) 8/−5	8÷(−5)	実装依存	0	-1 または 0
(d) −8/−5	−8÷(−5)	常に1	1	1

Google スプレッドシートにエクスポート
C89における除算のルール
C89規格では、整数除算（/）と剰余算（%）について、商 q と剰余 r
は以下の関係を満たすことが要求されていました。

a=q×b+r
ただし、除数 b が負の場合、商 q
の切り捨て方向が定義されていませんでした（実装依存）。

ゼロ方向への切り捨て (Truncate toward zero): 商の絶対値を求め、符号を付ける。
(例: −8/5 は −1.6→−1)

負の無限大方向への切り捨て (Truncate toward negative infinity):
商を常に負の無限大方向へ切り捨てる。 (例: −8/5 は −1.6→−2)

(a) 8/5
8/5=1

両方とも正の数のため、常に商は 1 です。

(b) −8/5
商は −1.6 です。

切り捨て方向がゼロ（C99以降の標準）の場合: −1

−8=−1×5+(−3)

切り捨て方向が負の無限大の場合: −2

−8=−2×5+2

C89では、これらのいずれの結果になるかはコンパイラの実装に依存します。したがって、−1
または −2 の可能性があります。

(c) 8/−5
商は −1.6 です。

切り捨て方向がゼロ（C99以降の標準）の場合: −1

8=−1×(−5)+3

切り捨て方向が負の無限大の場合: −2

8=−2×(−5)+(−2)

あなたの答えの 0 は、この式の正しい商としては考えにくいです。正しくは、−1 または
−2 の可能性があります。（ただし、多くの古いシステムで −1
となる傾向はあります。）

(d) −8/−5
商は 1.6 です。

−8/−5=1

−8=1×(−5)+(−3)

両方とも負の数の場合、常に商は 1 となります。

まとめと訂正
式	あなたの答え	C89での正しい可能性のある値
(a) 8/5	1	1
(b) −8/5	-1	-1 または -2
(c) 8/−5	0	-1 または -2
(d) −8/−5	1	1

Google スプレッドシートにエクスポート
補足: 現代のC規格であるC99以降では、ゼロ方向への切り捨て（Truncate toward
zero）が必須と定義されました。もしC99以降で計算するならば、答えは (a) 1, (b) -1,
(c) -1, (d) 1 となり、あなたの答えとほぼ一致します（ただし、(c) は −1
です）。しかし、C89の文脈では実装依存であることを考慮する必要があります。
 */
